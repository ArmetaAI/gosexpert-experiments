"""
Document Type Configuration
Organizes document tags, their examples, and their file_type (ИРД/ПСД)
"""

# Document type definitions with file_type and examples
DOCUMENT_TYPES = {
    # === ИРД (Initial Design Documentation) ===
    "АПЗ": {
        "file_type": "ИРД",
        "full_name": "Архитектурно-планировочное задание",
        "examples": [
            "Архитектурно-планировочное задание (АПЗ)",
            "Архитектурно-планировочное задание местного органа",
        ]
    },

    "Правоустанавливающие документы": {
        "file_type": "ИРД",
        "full_name": "Правоустанавливающие документы",
        "examples": [
            "Решение о земельном участке",
            "Акт выбора земельного участка",
        ]
    },

    "Приказ ГИПа": {
        "file_type": "ИРД",
        "full_name": "Приказ ГИПа",
        "examples": [
            "Информация о генпроектировщике (субпроектировщике)",
        ]
    },

    "Информация о заказчике": {
        "file_type": "ИРД",
        "full_name": "Информация о заказчике",
        "examples": [
            "Информация о заказчике",
        ]
    },

    "Письмо о начале строительства": {
        "file_type": "ИРД",
        "full_name": "Письмо о начале строительства",
        "examples": [
            "Письмо о начале строительства",
            "ИРД.НС",
            "НС",
        ]
    },

    "ТЗ": {
        "file_type": "ИРД",
        "full_name": "Задание на проектирование",
        "examples": [
            "Задание на проектирование",
            "ИРД.ТЗ",
        ]
    },

    "Расчет предельной стоимости строительства": {
        "file_type": "ИРД",
        "full_name": "Расчет предельной стоимости строительства",
        "examples": [
            "Расчет предельной стоимости строительства",
        ]
    },

    "Лицензия": {
        "file_type": "ИРД",
        "full_name": "Лицензия",
        "examples": [
            "Лицензия генеральной проектной и субпроектной организаций",
            "ИРД.ЛецензияИ",
        ]
    },

    "Чертежи": {
        "file_type": "ИРД",
        "full_name": "Чертежи",
        "examples": [
            "Разделы проектной документации",
        ]
    },

    "Смета": {
        "file_type": "ИРД",
        "full_name": "Смета",
        "examples": [
            "Сводный и локальные сметные расчеты",
        ]
    },

    "Изыскания": {
        "file_type": "ИРД",
        "full_name": "Изыскания",
        "examples": [
            "Отчеты инженерных изысканий",
            "Лицензия на изыскательскую деятельность",
        ]
    },

    "Технические условия на подключение": {
        "file_type": "ИРД",
        "full_name": "Технические условия на подключение",
        "examples": [
            "Технические условия на водоснабжение и канализацию",
            "Технические условия на теплоснабжение",
            "Технические условия на телефонизацию",
            "Технические условия на газоснабжение",
            "Технические условия на радиофикацию",
            "Технические условия на ливневую канализацию",
            "ИРД.ТУподключение",
        ]
    },

    "Технические условия на пересечения": {
        "file_type": "ИРД",
        "full_name": "Технические условия на пересечения",
        "examples": [
            "Технические условия на пересечения проектируемых инженерных или транспортных коммуникаций с существующими линейными сооружениями или с тоннелями и мостовыми сооружениями на протяжении трассы",
            "выдаваемыми собственниками",
        ]
    },

    "Технические условия на присоединение к ЖД дорогам": {
        "file_type": "ИРД",
        "full_name": "Технические условия на присоединение к ЖД дорогам",
        "examples": [
            "Технические условия на присоединение к ж/д дорогам",
        ]
    },

    "Технические условия на присоединение к автодорогам": {
        "file_type": "ИРД",
        "full_name": "Технические условия на присоединение к автодорогам",
        "examples": [
            "Технические условия на присоединение к автодорогам",
        ]
    },

    "СТУ": {
        "file_type": "ИРД",
        "full_name": "Специальные технические условия",
        "examples": [
            "Специальные технические условия (особые нормы)",
            "согласованные местным исполнительным органом",
        ]
    },

    "Специальные заключения": {
        "file_type": "ИРД",
        "full_name": "Специальные заключения",
        "examples": [
            "Заключение госэкологической экспертизы",
            "Энергетический паспорт/раздел",
        ]
    },

    "Дополнительная (корректировка/капремонт)": {
        "file_type": "ИРД",
        "full_name": "Дополнительная документация",
        "examples": [
            "Разрешение на корректировку",
            "Заключение экспертизы по предыдущему проекту",
            "Решение местного исполнительного органа (расширения",
            "модернизации",
            "технического перевооружения)",
            "связанной с перепрофилированием",
            "переоборудованием или перепланировкой помещений (отдельных частей) существующих зданий",
        ]
    },

    "Дефектный акт": {
        "file_type": "ИРД",
        "full_name": "Дефектный акт",
        "examples": [
            "Дефектные акты",
            "ИРД.ДефАкт",
            "Дефектный акт",
        ]
    },

    "Согласование": {
        "file_type": "ИРД",
        "full_name": "Согласование",
        "examples": [
            "Согласование уполномоченного органа в области особо охраняемых природных территорий",
            "Согласование Комитета по водным ресурсам",
            "Согласование Комитета лесного хозяйства и животного мира",
            "Согласование Комитета рыбного хозяйства",
            "Согласование охраны наследия",
        ]
    },

    "Согласования с ГАИ": {
        "file_type": "ИРД",
        "full_name": "Согласования с ГАИ",
        "examples": [
            "Согласование ГАИ",
        ]
    },

    "Экспертизы и заключения": {
        "file_type": "ИРД",
        "full_name": "Экспертизы и заключения",
        "examples": [
            "Заключение экологической экспертизы",
            "Заключение отраслевой экспертизы",
            "Заключение энергоэкспертизы",
            "Проекты аналоги с заключениями экспертизы и приказами об их утверждении",
            "Протокол замеров плотности потока радона",
        ]
    },

    "Заключение СЭС": {
        "file_type": "ИРД",
        "full_name": "Заключение СЭС",
        "examples": [
            "Заключение СЭС",
        ]
    },

    "Эскизный проект": {
        "file_type": "ИРД",
        "full_name": "Эскизный проект",
        "examples": [
            "Эскизный проект",
        ]
    },

    "Заключение технического обследования": {
        "file_type": "ИРД",
        "full_name": "Заключение технического обследования",
        "examples": [
            "Заключение технического обследования",
        ]
    },

    "Протокол дозиметрического контроля": {
        "file_type": "ИРД",
        "full_name": "Протокол дозиметрического контроля",
        "examples": [
            "Протокол дозиметрического контроля",
        ]
    },

    "Письмо по скотогильникам и сибирской язве": {
        "file_type": "ИРД",
        "full_name": "Письмо по скотогильникам и сибирской язве",
        "examples": [
            "Письмо об отсутствии сибиреязвенных захоронений и других особо опасных инфекций",
        ]
    },

    "Разрешение на применение технологий": {
        "file_type": "ИРД",
        "full_name": "Разрешение на применение технологий",
        "examples": [
            "Разрешение на применение технологий",
            "применяемых на опасных производственных объектах",
            "опасных технических устройств",
        ]
    },

    "Прочие документы": {
        "file_type": "ИРД",
        "full_name": "Прочие документы",
        "examples": [
            "Информационные требования заказчика (EIR",
            "BEP",
            "матрица коллизий и др.)",
            "Расчеты",
            "Аудиторский отчет",
            "Рекомендации и требования по разделу \"ИТМ по ГО",
            "промбезу",
            "предупреждению ЧС\"",
        ]
    },

    "Авиация": {
        "file_type": "ИРД",
        "full_name": "Авиация",
        "examples": [
            "ИРД.Авиация",
            "Разрешение на осуществление деятельности которая может представлять угрозу безопасности полетов воздушных судов/Письмо об отсутствии необходимости данного разрешения",
        ]
    },

    "Отчет Геол": {
        "file_type": "ИРД",
        "full_name": "Отчет геологических изысканий",
        "examples": [
            "Отчет геологических изысканий",
            "Материалы инженерно-геологических изысканий",
        ]
    },

    "Отчет Геод": {
        "file_type": "ИРД",
        "full_name": "Отчет геодезических работ",
        "examples": [
            "Отчет геодезических работ",
            "Материалы инженерно-геодезических изысканий",
        ]
    },

    "Письмо Заявка": {
        "file_type": "ИРД",
        "full_name": "Письмо-заявка заказчика",
        "examples": [
            "Письмо-заявка заказчика",
            "ИРД.Письмозаявка",
        ]
    },

    "Право на землю": {
        "file_type": "ИРД",
        "full_name": "Право на землю",
        "examples": [
            "Правоустанавливающие документы на землю или решение МИО согасно приказу 299",
            "ИРД.Правоземля",
        ]
    },

    "Смета ПИР": {
        "file_type": "ИРД",
        "full_name": "Смета ПИР",
        "examples": [
            "ИРД.СметаПИР",
            "Расчет стоимости проектных (проектно-изыскательных) работ (СметаПИР)",
        ]
    },

    "Заявка и подтверждение": {
        "file_type": "ИРД",
        "full_name": "Заявка и подтверждение",
        "examples": [
            "Источник финансирования",
        ]
    },

    # === ПСД (Project Design Documentation) ===
    "ПП": {
        "file_type": "ПСД",
        "full_name": "Паспорт проекта",
        "examples": [
            "Паспорт проекта",
        ]
    },

    "ЭП": {
        "file_type": "ПСД",
        "full_name": "Энергетический паспорт",
        "examples": [
            "Энергетический паспорт",
            "Энергитеческий паспорт",
        ]
    },

    "ОПЗ": {
        "file_type": "ПСД",
        "full_name": "Общая пояснительная записка",
        "examples": [
            "Общая пояснительная записка",
        ]
    },

    "ПОС": {
        "file_type": "ПСД",
        "full_name": "Проект организации строительства",
        "examples": [
            "Проект организации строительства",
        ]
    },

    "ОВОС": {
        "file_type": "ПСД",
        "full_name": "Оценка воздействия на окружающую среду",
        "examples": [
            "Оценка воздействия на окружающую среду",
            "Ведомость объемов работ",
        ]
    },

    "Спецразд": {
        "file_type": "ПСД",
        "full_name": "Специальные разделы",
        "examples": [
            "Специальные разделы",
        ]
    },
}


def get_tag_examples() -> dict:
    """
    Get a simple mapping of tags to their examples.

    Returns:
        Dictionary mapping tag names to list of example strings
    """
    return {tag: config["examples"] for tag, config in DOCUMENT_TYPES.items()}


def get_tag_file_type(tag: str) -> str:
    """
    Get the file_type (ИРД/ПСД) for a given tag.

    Args:
        tag: The tag name

    Returns:
        file_type string ("ИРД" or "ПСД"), or None if tag not found
    """
    config = DOCUMENT_TYPES.get(tag)
    return config["file_type"] if config else None


def get_ird_tags() -> list:
    """Get all ИРД document tags."""
    return [tag for tag, config in DOCUMENT_TYPES.items() if config["file_type"] == "ИРД"]


def get_psd_tags() -> list:
    """Get all ПСД document tags."""
    return [tag for tag, config in DOCUMENT_TYPES.items() if config["file_type"] == "ПСД"]


def get_all_tags() -> list:
    """Get all document tags."""
    return list(DOCUMENT_TYPES.keys())


def get_tag_full_name(tag: str) -> str:
    """
    Get the full name for a given tag.

    Args:
        tag: The tag name

    Returns:
        Full name string, or None if tag not found
    """
    config = DOCUMENT_TYPES.get(tag)
    return config["full_name"] if config else None


# Summary statistics
def print_summary():
    """Print summary statistics about document types."""
    ird_count = len(get_ird_tags())
    psd_count = len(get_psd_tags())
    total_count = len(get_all_tags())

    print(f"=== DOCUMENT TYPE CONFIGURATION SUMMARY ===")
    print(f"Total document types: {total_count}")
    print(f"  - ИРД types: {ird_count}")
    print(f"  - ПСД types: {psd_count}")
    print()
    print("ПСД Tags:", ", ".join(get_psd_tags()))


if __name__ == "__main__":
    print_summary()
